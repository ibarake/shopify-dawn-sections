{{ 'macrocategories.css' | asset_url | stylesheet_tag }}

{% assign macrocategory = page.metafields.custom.reference.value %}
{% assign subcategories = macrocategory.subcategories %}
<div class="page-width">
  <h1 class="macro-cat-title">{{ macrocategory.name }}</h1>
  <div class="container" style="background-color: {{ section.settings.backgroundColor }};">
    <div class="heading">
      <div class="bolded-h" style="color: {{ section.settings.titleAndSubtitleColor }};">
        <strong>{{ macrocategory.section_1_text_1 }}</strong>
        <span span="nobold-h" style="color: {{ section.settings.titleAndSubtitleColor }};">{{ macrocategory.section_1_text_2 }}</span>
      </div>
    </div>
    <div class="column-container">
      {% for subcategory in subcategories.value %}
        {% if forloop.index <= section.settings.colnum %}
          {% assign subcategoriespage = subcategory.page.value %}
          <div class="column">
            <div class="sub-image-container">
              {% if subcategory.offertag != '' %}
                <div class="sale" style="background-color: {{ section.settings.backgroundSaleColor }};">
                  <p style="color: {{ section.settings.saleTextColor }};">{{ subcategory.offertag }}</p>
                </div>
              {% endif %}
              <img src="{{ subcategory.image | image_url }}" alt="sub image">
              <a href="{{ subcategoriespage.url }}">
                <h2 class="macro-link" style="color: {{ section.settings.titleAndSubtitleColor }};">
                  {{ subcategory.name }}
                </h2>
              </a>
               
              <a>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  width="40"
                  zoomAndPan="magnify"
                  viewBox="0 0 30 30.000001"
                  height="40"
                  preserveAspectRatio="xMidYMid meet"
                  version="1.0"
                >
                  <defs><filter x="0%" y="0%" width="100%" height="100%" id="cf76cecb4c"><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0" color-interpolation-filters="sRGB"/></filter><filter x="0%" y="0%" width="100%" height="100%" id="73ab806ae7"><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0.2126 0.7152 0.0722 0 0" color-interpolation-filters="sRGB"/></filter><clipPath id="23a73d1504"><path d="M 8 7.304688 L 22 7.304688 L 22 21.820312 L 8 21.820312 Z M 8 7.304688 " clip-rule="nonzero"/></clipPath><image x="0" y="0" width="154" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAACaCAAAAAB0lA7LAAAAAmJLR0QA/4ePzL8AAALZSURBVHic7dw9axRRFAbg986EYDo7XfwJaRUEC0thG+20FH+EhZ0/wSadiWBjrYWNIFqIrElhkVIsI1Z2yc7HfS12xSQ7zuwdmTlv4NwysPBwz8dMhsMJWONkEZO70+2r1dH+m9fHAVznR6OcHBtPf3F5vj8CMmvRn5Pj2gFZlHWMdVmSr3Lk1qbFyTA54rxmjIwxsir4eUvFFmacM8ZFPCM55xcN2wYen5KRMXLOmYIt4PIP1n9lS5vCveW4z5KnZDq2HLssz8hkbAEfWJ2jLfPtkrUNh6u0cWqhu7GfNPwtgJvFjY9b9ZC2LlqGn02PzABuFteHtXXRAmZgWMWNYes4GW6ebWvj5lvrCXh/vrGp9JAct1hHVdsTFqK2gOetNsPeG4AX7Ta7e+u0GcbUbQPZPN/cNqbNe28/m3JM3dbP5rXQz6YcU2Wbbb7tCedbu802pm4bwua10M+mHFNlm+dbP5tyTN3Wz+a10M+mHFNlm+dbP5tyTN3Wz+a10M+mHFP/5vAvm3K+7QrH1G1D2GZbZjONnbZPAUHV9tJuFLTdFgs+sBxzaOlvrHhoOGDWem8secd04mcxMNhoK/nMcjAvAHsNY3kkGSu+M6vRpW2n2RYrfu38ucw496jnfwM63K0FYvdhlTVMDAIgDkWbrmnz0G25ug8q3ce77kuR7quk7gu4y3rJRP9F1v2woPs55gLLLPNM9IPpBY6my9JlXgHpMt1o6so8z9JlutF0WbrMKyBdphtNXZnnWbpMN5ouS5f514N0mWU0L6rM8yxdphtNl6XLvALSZbrRdFm6TLcCdO/MZekyu6FR3bU2usuAhFco6S6eMlzX1b3kbIq6aSaDCMXm/u3jvB6Ctc7J8HZlDaFCNAEAB00zaBIyuzWEXcdweWP3GsJvK2sIlxVwYlcBAKQXhQqvVxVeSgvorvKVXoCsuzbabNn2WtOUWcTk3nT7yrgryn8DRexpNem/iMsAAAAASUVORK5CYII=" id="760705a18c" height="154" preserveAspectRatio="xMidYMid meet"/><mask id="06cf21ad9f"><g filter="url(#cf76cecb4c)"><g filter="url(#73ab806ae7)" transform="matrix(0.0942606, 0, 0, 0.0942606, 7.789813, 7.305944)"><image x="0" y="0" width="154" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAACaCAAAAAB0lA7LAAAAAmJLR0QA/4ePzL8AAALZSURBVHic7dw9axRRFAbg986EYDo7XfwJaRUEC0thG+20FH+EhZ0/wSadiWBjrYWNIFqIrElhkVIsI1Z2yc7HfS12xSQ7zuwdmTlv4NwysPBwz8dMhsMJWONkEZO70+2r1dH+m9fHAVznR6OcHBtPf3F5vj8CMmvRn5Pj2gFZlHWMdVmSr3Lk1qbFyTA54rxmjIwxsir4eUvFFmacM8ZFPCM55xcN2wYen5KRMXLOmYIt4PIP1n9lS5vCveW4z5KnZDq2HLssz8hkbAEfWJ2jLfPtkrUNh6u0cWqhu7GfNPwtgJvFjY9b9ZC2LlqGn02PzABuFteHtXXRAmZgWMWNYes4GW6ebWvj5lvrCXh/vrGp9JAct1hHVdsTFqK2gOetNsPeG4AX7Ta7e+u0GcbUbQPZPN/cNqbNe28/m3JM3dbP5rXQz6YcU2Wbbb7tCedbu802pm4bwua10M+mHFNlm+dbP5tyTN3Wz+a10M+mHFNlm+dbP5tyTN3Wz+a10M+mHFP/5vAvm3K+7QrH1G1D2GZbZjONnbZPAUHV9tJuFLTdFgs+sBxzaOlvrHhoOGDWem8secd04mcxMNhoK/nMcjAvAHsNY3kkGSu+M6vRpW2n2RYrfu38ucw496jnfwM63K0FYvdhlTVMDAIgDkWbrmnz0G25ug8q3ce77kuR7quk7gu4y3rJRP9F1v2woPs55gLLLPNM9IPpBY6my9JlXgHpMt1o6so8z9JlutF0WbrMKyBdphtNXZnnWbpMN5ouS5f514N0mWU0L6rM8yxdphtNl6XLvALSZbrRdFm6TLcCdO/MZekyu6FR3bU2usuAhFco6S6eMlzX1b3kbIq6aSaDCMXm/u3jvB6Ctc7J8HZlDaFCNAEAB00zaBIyuzWEXcdweWP3GsJvK2sIlxVwYlcBAKQXhQqvVxVeSgvorvKVXoCsuzbabNn2WtOUWcTk3nT7yrgryn8DRexpNem/iMsAAAAASUVORK5CYII=" height="154" preserveAspectRatio="xMidYMid meet"/></g></g></mask><image x="0" y="0" width="154" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAACaCAIAAADencZAAAAABmJLR0QA/wD/AP+gvaeTAAAAXElEQVR4nO3BMQEAAADCoPVPbQo/oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJ4GFpUAATPvEOwAAAAASUVORK5CYII="  id="6d6d5c85e8" height="154" preserveAspectRatio="xMidYMid meet"/></defs><g clip-path="url(#23a73d1504)"><g mask="url(#06cf21ad9f)"><g transform="matrix(0.0942606, 0, 0, 0.0942606, 7.789813, 7.305944)"><image x="0" y="0" width="154" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAACaCAIAAADencZAAAAABmJLR0QA/wD/AP+gvaeTAAAAXElEQVR4nO3BMQEAAADCoPVPbQo/oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJ4GFpUAATPvEOwAAAAASUVORK5CYII=" height="154" preserveAspectRatio="xMidYMid meet"/></g></g></g>
                </svg>
              </a>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
  {
  "name": "Custom macrocategory",
  "settings": [
    {
      "type": "number",
      "id": "colnum",
      "label": "# Columns inside section",
      "default": 3
    },
    {
      "type":"header",
      "content":" ----------------- Text colors ----------------- "
    },
    {
      "type": "color",
      "id": "titleAndSubtitleColor",
      "label": "Title and subtitle text color",
      "default": "#393731"
    },
    {
      "type": "color",
      "id": "saleTextColor",
      "label": "Sale text color",
      "default": "#fff"
    },
    {
      "type":"header",
      "content":" ------------ Background colors ------------ "
    },
    {
      "type": "color",
      "id": "backgroundColor",
      "label": "Section background color",
      "default": "#fffaee"
    },
    {
      "type": "color",
      "id": "backgroundSaleColor",
      "label": "Sale background color",
      "default": "#c60f2f"
    }
  ],
  "blocks": [
  ],
  "presets": [
    {
      "category": "macro-category-1",
      "name": "Custom macrocategory 1 section Ashley"
    }
  ]
}
{% endschema %}
