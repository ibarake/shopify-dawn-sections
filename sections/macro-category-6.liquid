{{ 'macrocategories.css' | asset_url | stylesheet_tag }}

{% assign macrocategory = page.metafields.custom.reference.value %}
{% assign subcategories = macrocategory.subcategories %}

<div class="page-width">
  <p class="heading-categories-6" style="color: {{ section.settings.colorText }};">Explore more {{ macrocategory.name }}</p>
  <div class="macro-section-6">
    <div class="subcategories-6">
      <div class="subcategory-scroll">
        {% assign limit = section.settings.numberCollections %}
        {% for subcategory in subcategories.value %}
          {% if forloop.index <= limit %}
          <div class="subcategory-6">
            <img src="{{ subcategory.image | image_url }}" alt="collection image">
            <p style="color: {{ section.settings.colorText }};">{{ subcategory.name }}</p>
          </div>
        {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "macro-category-6",
  "settings": [
    {
      "type":"header",
      "content":" ------------- Configure section ------------- "
    },
    {
      "type": "number",
      "id": "numberCollections",
      "label": "Number of subcategories in the section",
      "default": 7
    },
    {
     "type":"header",
     "content":" ----------------- Text colors ----------------- "
    },
    {
      "type": "color",
      "id": "colorText",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type":"header",
      "content":" ------------ Background colors ------------ "
    }
  ],
  "presets": [
  {
    "category": "macro-category-6",
    "name": "Custom macrocategory 6 section Ashley"
  }
]
}
{% endschema %}
