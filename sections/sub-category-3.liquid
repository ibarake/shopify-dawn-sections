{% style %}
    .page-width {
  max-width: 1200px;
  margin: 0 auto;
}

.section-sub-2 {
  background: {{ section.settings.background }};
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  padding-top: 60px;
  padding-bottom: 60px;
}

.section-container-2 {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  margin-bottom: 40px;
}

.section-container-2 .left {
  order: 1;
}

.section-container-2 .right {
  order: 2;
}

.section-container-2 .left,
.section-container-2 .right {
  width: 100%;
  max-width: 400px;
}

.section-container-2 .left p,
.section-container-2 .right p {
  margin-bottom: 30px;
}

.section-container-2 .left .link-shop,
.section-container-2 .right .link-shop {
  margin-top: 40px;
}

.section-container-2 .left .link-shop a,
.section-container-2 .right .link-shop a {
  background-color: #000;
  color: #fff;
  display: block;
  padding: 10px 20px;
  text-align: center;
  text-decoration: none;
}

.section-container-2 .left .link-shop a:hover,
.section-container-2 .right .link-shop a:hover {
  background-color: #fff;
  color: #000;
}

.section-container-2 .left strong,
.section-container-2 .right strong {
  font-size: 26px;
  text-transform: uppercase;
}

.section-container-2 .right div {
  background-size: contain;
  background-repeat: no-repeat;
  height: 250px;
}

.section-bottom-2 {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
}

.column {
  width: 33.33%;
  padding: 0 20px;
  text-align: center;
}

.column .img {
  max-width: 100%;
}

.column .sub-link {
  font-size: 20px;
  font-weight: bold;
  margin-top: 20px;
}
    .sub-link::after{
        margin-left: 5px;
        background-image: url('https://cdn.shopify.com/s/files/1/0703/9723/1413/files/32213.png?v=1679027077');
        background-size: 10px 10px;
        display: inline-block;
        width: 10px;
        height: 10px;
        content:"";
      }
    .link-shop {
        display: inline-block;
        width: auto;
        text-align: center;
        border-radius: 5px;
        border: 1px solid black;
        margin-left: 10%;
        padding: 5px 7px 5px 7px;
        border-width: 2px;
        border-style: solid;
      }
    .link-shop a{
      display: inline-block;
        color: black;
      }
    @media screen and (max-width: 768px) {
     .bolded-sub-h2{
      padding: 0;
       width: 20%;
      }
      .bolded-sub-h2 strong{
      line-height: 1.1em;
      font-size: 1.8em;
      font-weight: bolder;
      }
      .section-container-2 {
        display: flex;
        flex-direction: column;
        height: auto;
       }
      .section-container-2 .left{
        display: flex;
        align-items: center;
        width: 100%;
        background-color: #F3EFEA;
       }
      .section-container-2 .right {
        width: 100%;
        height: 24em;
        margin-top: 20px;
       }
      .section-bottom-2 .column {
        width: 100%;
        margin-bottom: 20px;
       }
      .link-shop{
        margin-left:auto;
        height: 20%;
       }
      .link-shop a{
        white-space: nowrap;
      }
      .column img {
        max-width: 100%;
      }
      .sub-link{
        font-size: 0.6em;
        margin-left:3px;
        white-space: normal;
        word-wrap: break-word;
  }
    }
{% endstyle %}

{% assign subcategory = page.metafields.custom.reference.value %}
{% assign collections = subcategory.collections %}

<div class="page-width">
  <div class="section-sub-2">
    {% for collection in collections.value %}
      {% if forloop.index == section.settings.subid %}
        {% assign subcategoriescollections = collection.collections %}
        {% assign subcategoriespage = collection.page.value %}
        {% assign subimageurl = collection.image | image_url %}
        <div class="section-container-2">
          <div class="{% if section.settings.box_position == "left" %} left {% else %}right{% endif %}">
            <p class="bolded-sub-h2">
              <strong>{{ collection.title }}</strong>
            </p>
            <div class="link-shop">
              <a href="#">
                <strong>{{ collection.metafields.custom.secction_button_3 }}</strong>
              </a>
            </div>
          </div>
         <div class="{% if section.settings.box_position == "left" %} right {% else %}left{% endif %}" style="background-image: url('{{ subimageurl}}')"><div></div></div>
        </div>

        <div class="section-bottom-2">
          {% for collection in collections.value %}
            {% if forloop.index <= section.settings.colnum %}
              <div class="column">
                <img src="{{ collection.image | image_url }}" alt="sub image" class="img">
                <a href="{{ collection.url }}">
                  <h2 class="sub-link">{{ collection.title }}</h2>
                </a>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>

{% schema %}
  {
  "name": "Custom subcategory 3",
  "settings": [
    {
      "type": "number",
      "id": "subid",
      "label": "id for sub of the macro you want to use for the section",
      "default": 1
    },
    {
      "type": "number",
      "id": "colnum",
      "label": "# columns under section",
      "default": 3
    },
    {
    "type": "color_background",
    "id": "background",
    "label": "Background",
    "default": "linear-gradient(#ffffff, #000000)"
    },
    {
    "type": "select",
    "id": "box_position",
    "label": "Horizontal alignment",
    "options": [
      {
        "value": "left",
        "label": "Left"
      },
      {
        "value": "right",
        "label": "Right"
      }
  
    ],
    "default": "left"
    }
  ],
  "blocks": [

  ],
  "presets": [
    {
      "category": "sub-category-3",
      "name": "Custom subcategory 3 section Ashley"
    }
  ]
}
{% endschema %}
