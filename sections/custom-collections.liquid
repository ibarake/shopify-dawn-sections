<style>
  ul.pagination{
    list-style-type: none;
    display: flex;
    justify-content: space-between;
    flex-wrap: nowrap;
  }

  li.tab{
    padding: 0;
    margin: 0;
    cursor: pointer;
  }

  li.tab.active{
    border-bottom: 1px solid red;
  }

  .collection-content-container{
    display: none;
  }
  .collection-content-container.active{
    display: block;
  }

</style>

<script>

const selectedCollectionFunction = (collectionTitle) => {
  const selectedCollection = collectionTitle;
};

</script>

<ul class="pagination">
{% for collection in section.settings.collection_list %}
  <li class="tab" data-content-id="custom-content-{{ forloop.index }}">
    {{ collection.title }}
    </li>
{%endfor%}
</ul>

<div class="render"></div>

{% for collection in section.settings.collection_list %}

  <div id="custom-content-{{ forloop.index }}" class="collection-content-container">
    <div class="left">
      <div class="collection-image">
        <img src="{{ collection.image | image_url }}" alt="">
     <a href="#" class="btn-collections-all"></a>
     </div>
     </div>
     <div class="right">
       
       <div class="product-container">
           <a href="#"><img src="" alt=""></a>
           <a href="#"><p>{{ settings.section.product-list }}</p></a>
         </div>
     </div>
  </div>

{%endfor%}

<script>

const tabs = document.querySelectorAll('.tab');
const tabContent = document.querySelectorAll('.collection-content-container');

tabs.forEach((tab) =>{
  tab.addEventListener('click', (e) => {

    contentId = e.target.dataset.contentId;
    content = document.getElementById(contentId);

    tabContent.forEach((content) => {
      content.classList.remove('active');
    })
    tabs.forEach((tab) => {
      tab.classList.remove('active');
    })

    e.target.classList.add('active');
    content.classList.add('active');
  })
})

</script>

{% schema %}
  {
    "name": "Custom collection section",
    "settings": [

    {
      "type": "collection_list",
      "id": "collection_list",
      "label": "Collections",
      "limit": 6
    }
      
    ],
    "presets": [
      {
        "category": "custom-collection-banner",
        "name": "Custom collection section Ashley"
      }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}